@startuml Program.ReadParkingPayment
title Program.ReadParkingPayment
start
:int result = 0;
:bool exit = false;
:string input;
repeat
    :Print($"Parkzeit bisher: {(result >= _minPaymentInCents ? ToHoursFormat(ToMinutes(result)) : "00:00")}, Einwurf bisher: {result} Cent,  d für Ticket, Einwurf in Cent: ");
    :input = ReadLine();
    if (input.ToLower() == "d") then (yes)
        if (result < _minPaymentInCents) then (yes)
            :Print($"Mindesteinwurf {_minPaymentInCents} Cent, bisher haben Sie {result} eingeworfen");
          else (no)
              :exit = true;
        endif
      else (no)
        if (int.TryParse(input, out int coin)) then (yes)
            if (_coins.Contains(coin)) then (yes)
                :result += coin;
              else (no)
                  :PrintLine($"'{coin}' ist ein ungültiger Wert!");
            endif
        endif
    endif
repeat while (exit == false && result < _maxPaymentInCents) is (yes)
stop
@enduml
