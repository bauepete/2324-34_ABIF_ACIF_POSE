@startuml Program.ReadParkingPayment
header
generated on 3/9/2024 8:21:55 PM
end header
title Program.ReadParkingPayment
start
#LightBlue:int result = 0
bool exit = false
string input;
repeat
    :Print($"Parkzeit bisher: {(result >= _minPaymentInCents ? ToHoursFormat(ToMinutes(result)) : "00:00")}, Einwurf bisher: {result} Cent,  d für Ticket, Einwurf in Cent: ");
    :input = ReadLine();
    if (input.ToLower() == "d") then (<color:green>yes)
        if (result < _minPaymentInCents) then (<color:green>yes)
            :Print($"Mindesteinwurf {_minPaymentInCents} Cent, bisher haben Sie {result} eingeworfen");
          else (<color:red>no)
              :exit = true;
        endif
      else (<color:red>no)
        if (int.TryParse(input, out int coin)) then (<color:green>yes)
            if (_coins.Contains(coin)) then (<color:green>yes)
                :result += coin;
              else (<color:red>no)
                  :PrintLine($"'{coin}' ist ein ungültiger Wert!");
            endif
        endif
    endif
repeat while (exit == false && result < _maxPaymentInCents) is (<color:green>yes)
#Lavender:return result;
footer
generated with the DiagramCreator by Prof.Gehrer
end footer
stop
@enduml
